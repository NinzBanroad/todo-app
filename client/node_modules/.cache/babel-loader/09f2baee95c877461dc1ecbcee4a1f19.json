{"ast":null,"code":"import _classCallCheck from\"/Users/beautitag/Desktop/sample-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/beautitag/Desktop/sample-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/beautitag/Desktop/sample-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/beautitag/Desktop/sample-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/beautitag/Desktop/sample-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);var _super=_createSuper(Home);function Home(props){var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.state={isLoading:false,todos:[],open:false,id:null,todo:null};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onEditTodo=_this.onEditTodo.bind(_assertThisInitialized(_this));_this.onDeleteTodo=_this.onDeleteTodo.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:5000/todoApp/').then(function(res){_this2.setState({todos:res.data,isLoading:true});});}},{key:\"onDeleteTodo\",value:function onDeleteTodo(e,id){var _this3=this;e.preventDefault();axios.delete(\"http://localhost:5000/todoApp/delete/\".concat(id)).then(function(res){_this3.setState({todos:_this3.state.todos.filter(function(data){return data._id!==id;})});});}},{key:\"onChange\",value:function onChange(e){e.preventDefault();var value=e.target.value;this.setState({todo:value});}},{key:\"onEditTodo\",value:function onEditTodo(e,data){e.preventDefault();this.setState({open:true,todo:data.todo,id:data._id});}},{key:\"onSubmit\",value:function onSubmit(e){var _this4=this;e.preventDefault();var data={todo:this.state.todo};axios.patch(\"http://localhost:5000/todoApp/update/\".concat(this.state.id),data).then(function(res){if(res.data==='Update Added!'){_this4.setState({open:false});window.location='/';}});}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{class:\"table table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Todo\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.state.todos.map(function(data,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:i}),/*#__PURE__*/_jsx(\"td\",{children:data.todo}),/*#__PURE__*/_jsxs(\"td\",{style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(e){return _this5.onEditTodo(e,data);},class:\"btn btn-primary\",\"data-toggle\":\"modal\",\"data-target\":\"#exampleModal\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-edit\"})}),\"\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-danger\",onClick:function onClick(e){return _this5.onDeleteTodo(e,data._id);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-trash\"})})]})]});})})]}),this.state.todo&&/*#__PURE__*/_jsx(\"div\",{class:\"modal fade\",id:\"exampleModal\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"modal-title\",id:\"exampleModalLabel\",children:\"Update Todo\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"exampleInputEmail1\",children:\"Todo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.todo,name:\"todo\",class:\"form-control\",onChange:function onChange(e){return _this5.onChange(e);},placeholder:\"Enter task here\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",value:\"Submit\",className:\"btn btn-primary\",class:\"btn btn-primary\",children:\"Submit\"})]})})]})})})]});}}]);return Home;}(Component);export{Home as default};","map":{"version":3,"sources":["/Users/beautitag/Desktop/sample-app/client/src/containers/Home/index.js"],"names":["React","Component","axios","Home","props","state","isLoading","todos","open","id","todo","onChange","bind","onEditTodo","onDeleteTodo","onSubmit","get","then","res","setState","data","e","preventDefault","delete","filter","_id","value","target","patch","window","location","map","i","cursor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n\nexport default class Home extends Component {\n    constructor(props) {\n\n        super(props);\n\n        this.state = {\n            isLoading: false,\n            todos: [],\n            open: false,\n            id: null,\n            todo: null\n        }\n\n        this.onChange = this.onChange.bind(this);\n        this.onEditTodo = this.onEditTodo.bind(this)\n        this.onDeleteTodo = this.onDeleteTodo.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n    }\n\n    componentDidMount() {\n        axios.get('http://localhost:5000/todoApp/')\n            .then(res => {\n                this.setState({\n                    todos: res.data,\n                    isLoading: true\n                })\n            })\n    }\n\n    onDeleteTodo(e, id) {\n        e.preventDefault();\n\n        axios.delete(`http://localhost:5000/todoApp/delete/${id}`)\n            .then(res => {\n                this.setState({\n                    todos: this.state.todos.filter(data => data._id !== id)\n                })\n            })\n    }\n\n    onChange(e) {\n        e.preventDefault();\n\n        const { value } = e.target;\n        this.setState({ todo: value});\n    }\n\n    onEditTodo(e, data) {\n        e.preventDefault();\n\n        this.setState({ open: true, todo: data.todo, id: data._id })\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n\n        let data = {\n            todo: this.state.todo\n        }\n\n        axios.patch(`http://localhost:5000/todoApp/update/${this.state.id}`, data)\n            .then(res => {\n                if (res.data === 'Update Added!') {\n                    this.setState({ open: false });\n                    window.location = '/'\n                }\n            })\n\n    }\n\n    render() {\n        return (\n            <>\n                <table class=\"table table-hover\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Todo</th>\n                            <th scope=\"col\">Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {\n                            this.state.todos.map((data, i) =>\n                                <tr>\n                                    <th scope=\"row\">{i}</th>\n                                    <td>{data.todo}</td>\n                                    <td style={{ cursor: 'pointer' }}>\n                                        <button type=\"button\" onClick={(e) => this.onEditTodo(e, data)} class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal\"><i class=\"fas fa-edit\"></i></button>&nbsp;&nbsp;&nbsp;\n                                    <button class=\"btn btn-danger\" onClick={(e) => this.onDeleteTodo(e, data._id)}><i class=\"fas fa-trash\"></i></button>\n                                    </td>\n                                </tr>\n                            )\n                        }\n                    </tbody>\n                </table>\n                {\n                    this.state.todo &&\n                    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                    <div class=\"modal-dialog\" role=\"document\">\n                        <div class=\"modal-content\">\n                            <div class=\"modal-header\">\n                                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Update Todo</h5>\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div>\n                            <div class=\"modal-body\">\n                                <form onSubmit={this.onSubmit}>\n                                    <div class=\"form-group\">\n                                        <label for=\"exampleInputEmail1\">Todo</label>\n                                        <input type=\"text\" value={this.state.todo} name=\"todo\" class=\"form-control\" onChange={(e) => this.onChange(e)} placeholder=\"Enter task here\" />\n                                    </div>\n                                    <button type=\"submit\" value=\"Submit\" className=\"btn btn-primary\" class=\"btn btn-primary\">Submit</button>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                }\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}